var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,"name",{value,configurable:!0});import{j as jsxRuntimeExports,b as joinClassNames,r as reactExports,_ as __,N as NaverMap,g as getCenter,M as Marker,d as getIconSize,l as l10nHelper,c as createRoot}from"./NaverMap-8e51bd0d.js";function InfoPanel(props){const{mapLocationProps:location,onClose}=props;return jsxRuntimeExports.jsx("div",{className:joinClassNames("info-panel-wrap",location?"slide-up":""),children:jsxRuntimeExports.jsx("div",{className:"info-panel",children:location&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("section",{className:"header",children:[jsxRuntimeExports.jsx("h3",{children:location.alt_title.length>0?location.alt_title:location.title}),jsxRuntimeExports.jsx("span",{className:"close",onClick:()=>{onClose&&onClose()},children:"×"})]}),jsxRuntimeExports.jsx("section",{className:"body",children:jsxRuntimeExports.jsxs("address",{children:[jsxRuntimeExports.jsxs("span",{className:"address",children:["📍 ",location.address]}),location.telephone&&jsxRuntimeExports.jsxs("span",{className:"telephone",children:["☎️",jsxRuntimeExports.jsx("a",{href:`tel://${location.telephone}`,children:location.telephone})]}),location.url&&jsxRuntimeExports.jsxs("span",{className:"url",children:["🔗 ",jsxRuntimeExports.jsx("a",{href:location.url,target:"_blank",rel:"extermal nofollow noreferrer",children:"링크"})]})]})})]})})})}__name(InfoPanel,"InfoPanel");const{size,scaledSize,origin,anchor}=getIconSize();function GroupedLocationMap(props){const{atts:{height,post_id,width,zoom},data,mapIcons:{normal:normalMarker,selected:selectedMarker}}=props,[map,setMap]=reactExports.useState(null),[selected,setSelected]=reactExports.useState(-1);return data.length===0?jsxRuntimeExports.jsx("div",{className:"naver-map error-message",children:__("[네이버 지도 에러] 지도에 위치가 설정되지 않았습니다.","naver_maps")}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(NaverMap,{id:`naver-map-${post_id}`,className:`naver-map grouped-locations-map grouped-locations-map-${post_id}`,mapOptions:{center:getCenter(data.map(loc=>loc.coord)),disableKineticPan:!1,zoom},ref:_map=>setMap(()=>_map),style:{height,width},children:map&&data.map((location,index)=>jsxRuntimeExports.jsx(Marker,{markerOptions:{icon:{anchor,origin,scaledSize,size,url:index===selected?selectedMarker:normalMarker},map,position:location.coord,title:location.alt_title.length>0?location.alt_title:location.title},onClick:()=>{setSelected(index===selected?-1:index)}},location.id))}),jsxRuntimeExports.jsx(InfoPanel,{mapLocationProps:selected>-1?data[selected]:void 0,onClose:()=>setSelected(-1)})]})}__name(GroupedLocationMap,"GroupedLocationMap");l10nHelper("shoplic-integration-for-naver-map");document.querySelectorAll('[data-shoplic-naver-map-app-root="true"][data-map_type="grouped-locations-map"]').forEach(appRoot=>{let objectName=null;if("object_name_postfix"in appRoot.dataset&&(objectName="groupedLocationsMap_"+appRoot.dataset.object_name_postfix,objectName in window)){const objectValue=window[objectName];console.log(objectName,objectValue),createRoot(appRoot).render(jsxRuntimeExports.jsx(reactExports.StrictMode,{children:jsxRuntimeExports.jsx(GroupedLocationMap,{...objectValue})}))}});
//# sourceMappingURL=grouped-locations-map-c6db70a7.js.map
